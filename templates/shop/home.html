{% extends 'shop/base.html' %}
{% load static %}

{% block title %}Home - My Shop{% endblock %}

{% block content %}
<h2>Products</h2>
<section class="product-grid">
  {% for p in products %}
    <article class="product-card">
      <a href="{% url 'product_detail' p.id %}">
        {% if p.image %}
          <img src="{{ p.image.url }}" alt="{{ p.name }}">
        {% else %}
          <img src="{% static 'shop/images/placeholder.svg' %}" alt="no image">
        {% endif %}
      </a>
      <div class="meta">
        <h3>{{ p.name }}</h3>
        <p class="price">â‚¹ {{ p.price }}</p>
        <form action="{% url 'cart_add' p.id %}" method="post">
          {% csrf_token %}
          <button class="btn small">Add to cart</button>
        </form>
      </div>
    </article>
  {% empty %}
    <p>No products found.</p>
  {% endfor %}
</section>
{% endblock %}
